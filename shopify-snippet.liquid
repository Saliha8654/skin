<!-- Skincare Chatbot Widget Snippet -->
<!-- Usage: {% render 'skincare-chatbot' %} -->
<!-- Make sure to update the URLs below with your deployed assets -->

{% comment %}
Configuration:
- Update CHATBOT_API_URL with your backend API endpoint
- Update ASSET_BASE_URL with your deployed frontend URL
{% endcomment %}

<script>
  // Configure the chatbot API URL
  window.CHATBOT_CONFIG = {
    apiUrl: {{ 'chatbot-config.json' | asset_url | replace: 'chatbot-config.json', 'https://skincare-backend-phcu.onrender.com/api' }}
  };
  
  // Initialize the chatbot widget
  (function() {
    // Create container if it doesn't exist
    let container = document.getElementById('skincare-chatbot-root');
    if (!container) {
      container = document.createElement('div');
      container.id = 'skincare-chatbot-root';
      document.body.appendChild(container);
    }
    
    // Load CSS and JS assets (these URLs need to be updated with your deployed URLs)
    const baseUrl = 'YOUR_DEPLOYMENT_URL'; // Replace with your actual deployment URL
    
    // Load CSS
    const cssLink = document.createElement('link');
    cssLink.rel = 'stylesheet';
    cssLink.href = baseUrl + '/chatbot-widget.css';
    document.head.appendChild(cssLink);
    
    // Load JavaScript
    const script = document.createElement('script');
    script.src = baseUrl + '/chatbot-widget.js';
    script.type = 'module';
    script.async = true;
    document.head.appendChild(script);
  })();
</script>